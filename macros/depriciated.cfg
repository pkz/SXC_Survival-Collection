
#define SX_ENEMY_MODIFICATION_ARCANE MP HP MA MD RA RD RES
{SX_ENEMY_MODIFICATION_2  {MP} {HP} {MA} {MD} {RA} {RD} {RES} MA RA BLANK BLANK}
#enddef

#define SX_ENEMY_MODIFICATION_MAS_RFS MP HP MA MD RA RD RES
  role=boss
  [modifications]
    {TRAIT_FEARLESS}
    {TRAIT_LOYAL}
    [object]
      silent=yes
      duration=forever
      {SX_ENEMY_WEAPON_ARCANE_SLOW 5 2}
      {SX_ENEMY_WEAPON_FIRE_SLOW 8 3}
      [effect]
        apply_to=movement
        increase={MP}
      [/effect]
      [effect]
        apply_to=hitpoints
        increase={HP}
        increase_total={HP}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_attacks={MA}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_damage={MD}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_attacks={RA}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_damage={RD}
      [/effect]
      [effect]
        apply_to=resistance
        replace=no
        [resistance]
          blade=-{RES}
          pierce=-{RES}
          impact=-{RES}
          fire=-{RES}
          cold=-{RES}
          arcane=-{RES}
        [/resistance]
      [/effect]
      [effect]
        apply_to=movement_costs
        replace=yes
        [movement_costs]
          castle=100
          cave=100
          deep_water=100
          flat=100
          forest=100
          frozen=100
          fungus=100
          hills=100
          impassable=100
          mountains=100
          reef=100
          sand=100
          shallow_water=100
          swamp_water=100
          unwalkable=100
          village=100
        [/movement_costs]
      [/effect]
    [/object]
  [/modifications]
#enddef

#define SX_ENEMY_MODIFICATION_ARCANE_MELEE MP HP MA MD RA RD RES
  role=boss
  [modifications]
    {TRAIT_FEARLESS}
    {TRAIT_LOYAL}
    [object]
      {SX_ENEMY_WEAPON_ARCANE 8 3}
      duration=forever
      silent=yes
      [effect]
        apply_to=movement
        increase={MP}
      [/effect]
      [effect]
        apply_to=hitpoints
        increase={HP}
        increase_total={HP}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_attacks={MA}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_damage={MD}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_attacks={RA}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_damage={RD}
      [/effect]
      [effect]
        apply_to=resistance
        replace=no
        [resistance]
          blade=-{RES}
          pierce=-{RES}
          impact=-{RES}
          fire=-{RES}
          cold=-{RES}
          arcane=-{RES}
        [/resistance]
      [/effect]
      [effect]
        apply_to=movement_costs
        replace=yes
        [movement_costs]
          castle=100
          cave=100
          deep_water=100
          flat=100
          forest=100
          frozen=100
          fungus=100
          hills=100
          impassable=100
          mountains=100
          reef=100
          sand=100
          shallow_water=100
          swamp_water=100
          unwalkable=100
          village=100
        [/movement_costs]
      [/effect]
    [/object]
  [/modifications]
#enddef

#define SX_ENEMY_MODIFICATION_MAS MP HP MA MD RA RD RES
  role=boss
  [modifications]
    {TRAIT_FEARLESS}
    {TRAIT_LOYAL}
    [object]
      {SX_ENEMY_WEAPON_ARCANE_SLOW 8 3}
      silent=yes
      duration=forever
      [effect]
        apply_to=movement
        increase={MP}
      [/effect]
      [effect]
        apply_to=hitpoints
        increase={HP}
        increase_total={HP}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_attacks={MA}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_damage={MD}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_attacks={RA}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_damage={RD}
      [/effect]
      [effect]
        apply_to=resistance
        replace=no
        [resistance]
          blade=-{RES}
          pierce=-{RES}
          impact=-{RES}
          fire=-{RES}
          cold=-{RES}
          arcane=-{RES}
        [/resistance]
      [/effect]
      [effect]
        apply_to=movement_costs
        replace=yes
        [movement_costs]
          castle=100
          cave=100
          deep_water=100
          flat=100
          forest=100
          frozen=100
          fungus=100
          hills=100
          impassable=100
          mountains=100
          reef=100
          sand=100
          shallow_water=100
          swamp_water=100
          unwalkable=100
          village=100
        [/movement_costs]
      [/effect]
    [/object]
  [/modifications]
#enddef

#define SX_ENEMY_MODIFICATION_MFE MP HP MA MD RA RD RES
  role=boss
  [modifications]
    {TRAIT_FEARLESS}
    {TRAIT_LOYAL}
    [object]
      {SX_ENEMY_WEAPON_FIRE_EVADE 8 3}
      silent=yes
      duration=forever
      [effect]
        apply_to=movement
        increase={MP}
      [/effect]
      [effect]
        apply_to=hitpoints
        increase={HP}
        increase_total={HP}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_attacks={MA}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_damage={MD}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_attacks={RA}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_damage={RD}
      [/effect]
      [effect]
        apply_to=resistance
        replace=no
        [resistance]
          blade=-{RES}
          pierce=-{RES}
          impact=-{RES}
          fire=-{RES}
          cold=-{RES}
          arcane=-{RES}
        [/resistance]
      [/effect]
      [effect]
        apply_to=movement_costs
        replace=yes
        [movement_costs]
          castle=100
          cave=100
          deep_water=100
          flat=100
          forest=100
          frozen=100
          fungus=100
          hills=100
          impassable=100
          mountains=100
          reef=100
          sand=100
          shallow_water=100
          swamp_water=100
          unwalkable=100
          village=100
        [/movement_costs]
      [/effect]
    [/object]
  [/modifications]
#enddef


#define SX_ENEMY_GUARD_ARCANE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 5 2}
        {SX_ENEMY_WEAPON_ARCANE_MISSILE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=2
            cave=2
            deep_water=4
            flat=2
            forest=2
            frozen=4
            fungus=2
            hills=2
            impassable=100
            mountains=4
            reef=4
            sand=2
            shallow_water=2
            swamp_water=2
            unwalkable=4
            village=2
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SX_ENEMY_GUARD_ARCANE_RANGED X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE_MISSILE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=2
            cave=2
            deep_water=4
            flat=2
            forest=2
            frozen=4
            fungus=2
            hills=2
            impassable=100
            mountains=4
            reef=4
            sand=2
            shallow_water=2
            swamp_water=2
            unwalkable=4
            village=2
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SX_ENEMY_GUARD_ARCANE_MELEE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=2
            cave=2
            deep_water=4
            flat=2
            forest=2
            frozen=4
            fungus=2
            hills=2
            impassable=100
            mountains=4
            reef=4
            sand=2
            shallow_water=2
            swamp_water=2
            unwalkable=4
            village=2
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef


#define SX_ENEMY_UNDEAD_GUARD_ARCANE_MELEE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_UNDEAD}
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=2
            cave=2
            deep_water=4
            flat=2
            forest=2
            frozen=4
            fungus=2
            hills=2
            impassable=100
            mountains=4
            reef=4
            sand=2
            shallow_water=2
            swamp_water=2
            unwalkable=4
            village=2
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef


#define SX_ENEMY_LEADER_ARCANE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 5 2}
        {SX_ENEMY_WEAPON_ARCANE_MISSILE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SX_ENEMY_LEADER_MAS_RFS X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE_SLOW 5 2}
        {SX_ENEMY_WEAPON_FIRE_SLOW 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SX_ENEMY_LEADER_ARCANE_MELEE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SX_ENEMY_LEADER_MAS X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE_SLOW 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SX_ENEMY_LEADER_MFE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_FIRE_EVADE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef


#define SX_ENEMY_UNDEAD_ARCANE_MELEE_ITEM ITEM X Y TYPE SIDE MP HP MA MD RA RD RES
  {SX_ENEMY_UNDEAD_ARCANE_MELEE_MB $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type {ITEM}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef



#define SX_ENEMY_ARCANE_MB ID X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    {IS_HERO}
    id=Boss_{ID}
    role=boss
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 5 2}
        {SX_ENEMY_WEAPON_ARCANE_MISSILE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SX_ENEMY_ARCANE_MELEE_MB ID X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    {IS_HERO}
    id=Boss_{ID}
    role=boss
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef


#define SX_ENEMY_UNDEAD_ARCANE_MELEE_MB ID X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    {IS_HERO}
    id=Boss_{ID}
    role=boss
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_UNDEAD}
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SX_ENEMY_WEAPON_ARCANE 8 3}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef


#define SX_ENEMY_WEAPON_ARCANE_SLOW DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "blessed staff"
    icon=attacks/staff-magic.png
    type=arcane
    range=melee
    damage={DAM}
    number={SRK}
    [specials]
      {WEAPON_SPECIAL_SLOW}
    [/specials]
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "blessed staff"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound={SOUND_LIST:MISS},{SOUND_LIST:HOLY_MISS}
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=staff.wav,{SOUND_LIST:HOLY}
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SX_ENEMY_WEAPON_FIRE_EVADE DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "torch"
    icon=attacks/torch.png
    type=fire
    range=melee
    damage={DAM}
    number={SRK}
    [specials]
      {WEAPON_SPECIAL_SXC_EVADE}
    [/specials]
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "torch"
      [/filter_attack]
      [frame]
        begin=-150
        end=-100
      [/frame]
      [if]
        hits=no
        [frame]
          begin=-100
          end=100
          sound=torch-miss.ogg
        [/frame]
      [/if]
      [else]
        hits=yes
        [frame]
          begin=-100
          end=100
          sound=torch.ogg
        [/frame]
      [/else]
      [frame]
        begin=100
        end=150
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

#define SX_ENEMY_WEAPON_FIRE_SLOW DAM SRK
  [effect]
    apply_to=new_attack
    name= _ "fire storm"
    icon=attacks/fire-storm.png
    type=fire
    range=ranged
    damage={DAM}
    number={SRK}
    [specials]
      {WEAPON_SPECIAL_SLOW}
    [/specials]
  [/effect]
  [effect]
    apply_to=new_animation
    [attack_anim]
      [filter_attack]
        name=_ "fire storm"
      [/filter_attack]
      {FIRE_BURST_SMALL}
      [if]
        hits=yes
        [frame]
          begin=-400
          end=350
          sound=flame-big.ogg
        [/frame]
      [/if]
      [else]
        hits=no
        [frame]
          begin=-400
          end=350
          sound=flame-big-miss.ogg
        [/frame]
      [/else]
      [frame]
        begin=-350
        end=-300
      [/frame]
      [frame]
        begin=-300
        end=-250
      [/frame]
      [frame]
        begin=-250
        end=-100
      [/frame]
      [frame]
        begin=-100
        end=-50
      [/frame]
      [frame]
        begin=-50
        end=100
      [/frame]
    [/attack_anim]
  [/effect]
#enddef

